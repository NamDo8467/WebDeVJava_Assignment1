<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>View recipes</title>
  <link th:href="@{/css/view_recipe.css}" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/navbar.css}" />
  <link th:href="@{/css/search_bar.css}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap" rel="stylesheet" />
</head>
<body>
<header>
  <a class="logo" href="/user/home"><img class="logo" th:src="@{/images/logo.png}" alt="logo" /></a>
  <form class="SearchBox" th:action="@{/recipe/searchRecipe}" method="post" th:object="${recipe}">
    <input type="text" class="SearchBox-input" th:field="${recipe.title}" placeholder="Search by Title...">

    <button class="SearchBox-button">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
      </svg>
    </button>

  </form>
  <nav>
    <ul class="links">
      <li><a href="/recipe/all">View Recipe</a></li>
      <li><a href="/user/view_profile">View Profile</a></li>
      <li><a href="/recipe/addRecipe">Create Recipe</a></li>
      <li><a href="/meal/addNewMeal">Plan a Meal</a></li>
      <li>
        <a href="/recipe/shoppingList">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-bag-check" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
            <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
          </svg>
        </a>
      </li>
    </ul>
  </nav>
  <form class="button" method="post" th:action="@{/user/logout}"><button class="logout-btn">Log-Out</button></form>
</header>
<br>
<br>
  <div class="container mb-3">
        <form method="get" th:action="@{/recipe/viewFavorite}">
          <button style="border:none;background-color: #80deea;padding: 10px; border-radius: 5px">View Favorites</button>
        </form>
  </div>

<div class="container d-flex h-100 mx-3">
  <div th:each="recipe:${recipes}" id="postit">
    <span class="dot"></span>
    <h2 style="font-style: italic;font-weight: bold">Title</h2>
    <p th:text="${recipe.title}" class="title"></p>
    <h2 style="font-style: italic;font-weight: bold">Description</h2>
    <p th:text="${recipe.description}" class="description"></p>
    <h2 style="font-style: italic;font-weight: bold">Favorite</h2>
    <p th:text="${recipe.isFavorite}" class="description"></p>
    <a style="display: inline; margin-right: 5px" th:href="@{'/recipe/edit/' + ${recipe.id}}">Edit</a>
    <a style="display: inline" th:href="@{'/recipe/delete/' + ${recipe.id}}">Delete</a>
    <form method="post" th:action="@{'/recipe/addFavorite/' + ${recipe.id}}" th:object="${recipe}">
      <button style="display: inline; margin-right: 5px">Mark as Favorite</button>
    </form>

  </div>
</div>

</body>
</html>